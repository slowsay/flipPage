define("flipPage",["require"],function(e){var t=function(e,t,n,r){this.init(e||"",t||[],n||0,r||{})};return t.prototype.init=function(e,t,n,r){var i="<div class=viewcon>";i+="<ul class=vt>";for(var s in r.title)i+="<li>"+r.title[s]+"</li>";i+="</ul>",i+="<ul class=vlist></ul>",i+="<div class=pagebox></div>",i+="</div>",$(e).append(i),this.view=e+" ",this.version="1.0.0",this.cutid=0,this.pointer="pointer",this.auto="auto",this.data=t,this.pagesize=n,this.maxpage=this.data.length%this.pagesize==0&&this.data.length>0?this.data.length/this.pagesize:Math.ceil(this.data.length/this.pagesize),this.addPagekind(),this.addPagemsg(),this.addSelect(),this.render(),this.addTitleMain(),this.addEventListener(),this.exchangeClick([0,1])},t.prototype.addPagekind=function(){var e=$(".pagebox"),t="<ul class=pagenav><li>首页</li><li>上一页</li><li>下一页</li><li>尾页</li></ul>";e.append(t)},t.prototype.addPagemsg=function(){var e=$(".pagebox"),t="<h5>共1页 / 当前第1页</h5>";e.append(t)},t.prototype.addSelect=function(){var e=$(".pagebox"),t=this,n="<h4><select>";for(var r=0;r<this.maxpage;r++)n+="<option>"+(r+1)+"</option>";n+="</select></h4>",e.append(n)},t.prototype.exchangeDate=function(e){var t=$(this.view+".pagebox select"),n=t.find("option");for(var r=0;r<n.length;r++){var i=n.eq(r);e==r?i.attr("selected",!0):i.attr("selected",!1)}},t.prototype.addEventListener=function(){var e=$(this.view+".pagenav li"),t=this,n=$(this.view+".pagebox select");e.on("click",function(e){var n=$(this).index();switch(n){case 0:t.cutid=0,t.render(),t.exchangeClick([0,1]);break;case 1:t.toFront();break;case 2:t.toBack();break;case 3:t.cutid=t.maxpage-1,t.render(),t.exchangeClick([2,3])}}),n.on("change",function(e){t.cutid=$(this).val()-1,t.render(),t.cutid<t.maxpage-1?t.cutid>0?t.exchangeClick([]):t.exchangeClick([0,1]):t.exchangeClick([2,3])})},t.prototype.removeEventListener=function(){$(this.view+".pagenav li").off()},t.prototype.exchangeClick=function(e){var t=$(this.view+".pagenav"),n=t.find("li"),r=[0,1,2,3];for(var i=0;i<r.length;i++)n.eq(i).removeAttr("class");if(e.length>0)for(i=0;i<r.length;i++)for(var s=0;s<e.length;s++)e[s]==r[i]&&(r.splice(e[s],1),n.eq(e[s]).addClass("cauto"))},t.prototype.toFront=function(){this.cutid--,this.cutid<=0&&(this.cutid=0),this.render(),this.cutid<1?this.exchangeClick([0,1]):this.exchangeClick([])},t.prototype.toBack=function(){this.cutid++,this.cutid>=this.maxpage-1&&(this.cutid=this.maxpage-1),this.render(),this.cutid>=this.maxpage-1?this.exchangeClick([2,3]):this.exchangeClick([])},t.prototype.render=function(){var e=$(this.view+".viewcon .vlist"),t=this.cutid<this.maxpage-1?this.pagesize:this.data.length%this.pagesize==0?this.pagesize:this.data.length%this.pagesize,n="";for(var r=0;r<t;r++){var i=this.cutid*this.pagesize+r;n+="<li class=li0>"+this.data[i].id+"</li><li class=li1><a title="+this.data[i].title+" href="+this.data[i].url+">"+this.data[i].title+"</a></li><li class=li2>"+this.data[i].time+"</li>"}e.html(n),$(".pagebox h5").html("共 <span>"+this.maxpage+"</span> 页 / 当前第 <span>"+(this.cutid+1)+"</span> 页"),this.lineBackground(3),this.exchangeDate(this.cutid)},t.prototype.lineBackground=function(e){var t=$(this.view+".viewcon .vlist"),n;for(var r=0;r<t.find("li").length/3;r++)r%(e-1)==1&&(t.find("li").eq(e*r+0).addClass("on"),t.find("li").eq(e*r+1).addClass("on"),t.find("li").eq(e*r+2).addClass("on"))},t.prototype.addTitleMain=function(){var e=$(this.view+".viewcon .vt"),t=$(".viewcon .vlist"),n=e.find("li").length;for(var r=0;r<n;r++)e.find("li").eq(r).addClass("li"+r),t.find("li").eq(r).addClass("li"+r)},t.prototype.pageSize=function(e){this.pagesize=e,this.maxpage=this.data.length%this.pagesize==0&&this.data.length>0?this.data.length/this.pagesize:Math.ceil(this.data.length/this.pagesize)},t});